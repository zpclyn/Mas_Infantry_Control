# æ­¥å…µç”µæ§ä»£ç å¼€æºæ–‡æ¡£

> æ­¤ä»£ç ç”¨äº2024èµ›å­£Robomasterè¶…çº§å¯¹æŠ—èµ›å±±æµ·Masæˆ˜é˜Ÿ4å·æ­¥å…µã€‚
>
> æ­¥å…µä»£ç V1.0

* ç¬¬ä¸€æ¬¡ä¿®æ”¹ 2024.8.19 ä¿®æ”¹**å†™åœ¨æœ€å**

## ä¸€ã€æ¦‚è¿°

æœ¬ä»£ç ä»2023å¹´8æœˆä¸‹æ—¬æ­£å¼å»ºç«‹ï¼Œé‡‡ç”¨æ ‡å‡†åº“è£¸æœºå¼€å‘ï¼Œå¹¶æ­£å¼åº”ç”¨äº2024èµ›å­£é«˜æ ¡è”ç›Ÿèµ›å’Œè¶…çº§å¯¹æŠ—èµ›ã€‚åœ¨é«˜æ ¡è”ç›Ÿèµ›æ—¶å¹¶æ²¡æœ‰åŠ å…¥åŠŸç‡æ§åˆ¶å¯¼è‡´é¢‘ç¹è¶…åŠŸç‡ï¼Œè¶…çº§å¯¹æŠ—èµ›åˆç”±äºä¿¯ä»°è§’é—®é¢˜æ²¡åŠæ³•å¤§å±•èº«æ‰‹ï¼Œç®—æ˜¯ä¸€ç§é—æ†¾å§ã€‚

## äºŒã€æ¥çº¿å›¾

![æ¥çº¿å›¾.png](https://github.com/zpclyn/Mas_Infantry_Control/blob/main/IMAGE/%E6%8E%A5%E7%BA%BF%E5%9B%BE.png?raw=true)

## ä¸‰ã€Keilæ–‡ä»¶è¯´æ˜

### åº•ç›˜

### äº‘å°

## å››ã€åŠŸèƒ½è¯´æ˜

æ§åˆ¶æ–¹å¼å…·æœ‰å›¾ä¼ é“¾è·¯ã€é¥æ§å™¨ä¸¤ç§æ¨¡å¼ï¼Œç›®å‰åœ¨æ¨¡å¼åˆ‡æ¢ç•¥æœ‰é—®é¢˜ï¼Œåœ¨ä¸Šç”µåæ³¨æ„ä¸è¦æ›´æ”¹æ§åˆ¶æ–¹å¼ã€‚

æ§åˆ¶æ˜ å°„ä¸ºï¼š

| è¾“å…¥         | è¾“å‡º                         | è¾“å…¥         | è¾“å‡º                               |
| ------------ | ---------------------------- | ------------ | ---------------------------------- |
| W            | å‰è¿›                         | A            | å·¦ç§»                               |
| S            | åé€€                         | D            | å³ç§»                               |
| Q*           | æ‘©æ“¦è½®                       | E            | æ‹¨å¼¹ç›˜åè½¬                         |
| Shift*       | è¶…ç”µ                         | Ctrl*        | å°é™€èº                             |
| é¼ æ ‡å·¦å³     | äº‘å°å·¦å³æ—‹è½¬                 | é¼ æ ‡å‰å     | äº‘å°ä¿¯ä»°                           |
| é¼ æ ‡å·¦é”®     | å°„å‡»                         |              |                                    |
| é¥æ§å™¨å·¦æ‹¨ç  | 1-å¼€æ‘©æ“¦è½®ï¼Œå…¶ä»–-å…³æ‘©æ“¦è½®    | é¥æ§å™¨å³æ‹¨ç  | 1-åå‘å°é™€èºï¼Œ3-æ­£å¸¸ç§»åŠ¨ï¼Œ2-å°é™€èº |
| é¥æ§å™¨å·¦æ‘‡æ† | ä¸Šä¸‹-äº‘å°ä¿¯ä»°ï¼Œå·¦å³-äº‘å°æ—‹è½¬ | é¥æ§å™¨å³æ‘‡æ† | ä¸Šä¸‹-å‰åç§»åŠ¨ï¼Œå·¦å³-å·¦å³å¹³ç§»       |
| é¥æ§å™¨æ‹¨è½®   | å‰æ‹¨-å‘å°„ï¼Œåæ‹¨-æ‹¨å¼¹ç›˜åè½¬   |              |                                    |

> æ ‡*çš„ä¸ºå¼€å…³å½¢å¼ï¼ŒæŒ‰ä¸€ä¸‹å¼€ï¼ŒæŒ‰ä¸€ä¸‹å…³
>
> æ­¤å¤„å‰åå·¦å³å‡ä»¥äº‘å°åæ ‡ç³»ä¸ºåŸºå‡†
>
> åå‘å°é™€èºä»…åœ¨æ£€å½•æ—¶ä½¿ç”¨ï¼Œç›¸æ¯”æ­£å‘å°é™€èºæ•ˆæœç•¥å·®
>
> é¼ æ ‡å·¦é”®ä»…åœ¨æ‘©æ“¦è½®å¼€å¯æ—¶æœ‰æ•ˆ
>
> é¼ æ ‡å³é”®å…·æœ‰è‡ªç„åŠŸèƒ½ï¼Œä½†ç”±äºè§†è§‰ç»„æ‘†çƒ‚ï¼Œåªæ˜¯ç©ºæœ‰æ¶å­ï¼Œæ²¡æœ‰å®é™…ä½œç”¨

æ­¤ä»£ç åŒæ—¶å…·æœ‰è‡ªå®šä¹‰UIç”¨ä»¥æ˜¾ç¤ºå½“å‰æ‘©æ“¦è½®ã€å°é™€èºå’Œè¶…ç”µæ˜¯å¦å¼€å¯ã€‚

åœ¨æ²¡æœ‰è£åˆ¤ç³»ç»Ÿæ—¶ï¼Œéœ€è¦æ³¨é‡ŠRefereeSystem.cæ–‡ä»¶ä¸­RefereeSystem_Initå‡½æ•°çš„`while(RefereeSystem_RobotID==0);`è¯­å¥ï¼ŒåŒæ—¶åŠŸç‡æ§åˆ¶ä¸­ä¼šé‡‡ç”¨é»˜è®¤åŠŸç‡ä¸Šé™80Wï¼Œç¼“å†²èƒ½é‡é»˜è®¤30Jï¼Œå‘å°„æœºæ„é»˜è®¤ä¸Šç”µã€‚

## äº”ã€ä»£ç è¯´æ˜

### 1. åº•ç›˜ä»£ç è¯´æ˜

åº•ç›˜ä»£ç ä¸»è¦åˆ†ä¸ºå››ä¸ªå‡½æ•°

```C
void Mecanum_Init(void);//éº¦è½®åˆå§‹åŒ–
void Mecanum_ControlSpeed(int16_t LeftFrontSpeed,int16_t RightFrontSpeed,int16_t LeftRearSpeed,int16_t RightRearSpeed);//éº¦è½®é€Ÿåº¦æ§åˆ¶
void Mecanum_InverseMotionControl(float v_x,float v_y,float w);//éº¦è½®é€†è¿åŠ¨è§£ç®—
void Mecanum_PowerMoveControl(void);//éº¦è½®åŠŸç‡æ§åˆ¶
```

å…¶ä¸­`void Mecanum_Init(void);`è¿›è¡ŒPIDçš„åˆå§‹åŒ–ï¼Œ`void Mecanum_ControlSpeed(int16_t LeftFrontSpeed,int16_t RightFrontSpeed,int16_t LeftRearSpeed,int16_t RightRearSpeed);`è¿›è¡ŒPIDè®¡ç®—ï¼Œé—­ç¯å‘¨æœŸä¸º2msã€‚

è€Œå‰©ä¸‹ä¸¤ä¸ªå‡½æ•°å°±æ˜¯åº•ç›˜ä»£ç çš„æ ¸å¿ƒã€‚

#### 1.1 åº•ç›˜é€†è¿åŠ¨è§£ç®—

å¯¹äºåº•ç›˜åæ ‡ç³»çš„å»ºç«‹å¦‚ä¸‹å›¾æ‰€ç¤º

![åº•ç›˜éº¦è½®è§£ç®—ç®€å›¾.png](https://github.com/zpclyn/Mas_Infantry_Control/blob/main/IMAGE/%E5%BA%95%E7%9B%98%E9%BA%A6%E8%BD%AE%E8%A7%A3%E7%AE%97%E7%AE%80%E5%9B%BE.png?raw=true)

ç¨å¾®æœ‰ä¸€ç‚¹åç›´è§‰ï¼Œä½†æ˜¯æ— å¦¨ï¼Œåœ¨æ­¤åæ ‡ç³»ä¸‹ï¼Œéº¦å…‹çº³å§†è½®çš„é€†è¿åŠ¨è§£ç®—å…¬å¼å¦‚ä¸‹

$$
\begin{align}
v_{å·¦å‰è½®}&=-v_{x}-v_{y}-w(r_{x}+r_{y})\\
v_{å³å‰è½®}&=v_{x}-v_{y}-w(r_{x}+r_{y})\\
v_{å·¦åè½®}&=-v_{x}+v_{y}-w(r_{x}+r_{y})\\
v_{å³åè½®}&=v_{x}+v_{y}-w(r_{x}+r_{y})
\end{align}
$$

æ­¤éƒ¨åˆ†ä»£ç åœ¨`void Mecanum_InverseMotionControl(float v_x,float v_y,float w);`ä¸­å®ç°ï¼Œå¦‚æœè€ƒè™‘äº‘å°å’Œåº•ç›˜çš„ç›¸å¯¹è§’åº¦ï¼Œäº‘å°åæ ‡ç³»å’Œåº•ç›˜åæ ‡ç³»ä¹‹é—´å­˜åœ¨åæ ‡å˜æ¢ï¼ˆæ˜¾ç„¶ï¼Œå›¾ä¼ é“¾è·¯å’Œé¥æ§å™¨æ§åˆ¶å‡ä»¥äº‘å°åæ ‡ç³»ä¸ºåŸºå‡†ï¼‰ã€‚

![åº•ç›˜äº‘å°å‘é‡å˜æ¢ç®€å›¾.png](https://github.com/zpclyn/Mas_Infantry_Control/blob/main/IMAGE/%E5%BA%95%E7%9B%98%E4%BA%91%E5%8F%B0%E5%90%91%E9%87%8F%E5%8F%98%E6%8D%A2%E7%AE%80%E5%9B%BE.png?raw=true)

åæ ‡å˜æ¢å…¬å¼ä¸º

$$
\begin{align}
v_{xåº•ç›˜}&=v_{xäº‘å°}cos\theta-v_{yäº‘å°}sin\theta\\
v_{yåº•ç›˜}&=v_{xäº‘å°}sin\theta+v_{yäº‘å°}cos\theta
\end{align}
$$

æ­¤éƒ¨åˆ†ä»£ç åœ¨`void Mecanum_PowerMoveControl(void);`ä¸­å®ç°ï¼Œå…·ä½“ä»£ç æ®µä¸º

```C
	int16_t Raw_Theta=Yaw_GM6020PositionValue-GM6020_MotorStatus[0].Angle;//è·å–åº•ç›˜äº‘å°ç›¸å¯¹è§’åº¦åŸå§‹æ•°æ®
	if(Raw_Theta<0)Raw_Theta+=8192;
	//Mecanum_YawTheta=Raw_Theta/8192.0f*2.0f*3.141592653589793238462643383279f;
	Mecanum_YawTheta=Raw_Theta*0.000766990393942820614859043794746f;//è·å–åº•ç›˜äº‘å°ç›¸å¯¹è§’åº¦
	
	float vx_=vx,vy_=vy;
	vx=vx_*cosf(Mecanum_YawTheta)-vy_*sinf(Mecanum_YawTheta);
	vy=vx_*sinf(Mecanum_YawTheta)+vy_*cosf(Mecanum_YawTheta);//æ ¹æ®åº•ç›˜äº‘å°ç›¸å¯¹è§’åº¦ä¿®æ­£xyè½´é€Ÿåº¦
```

æœ€ç»ˆè¾¾åˆ°æ•ˆæœï¼Œä¸ç®¡äº‘å°å’Œåº•ç›˜ç›¸å¯¹è§’åº¦å¦‚ä½•ï¼Œå‡ä»¥äº‘å°åæ ‡ç³»ä¸ºåŸºå‡†è¿›è¡Œå¹³ç§»æ—‹è½¬ã€‚

#### 1.2 åŠŸç‡æ§åˆ¶

ç”±`void Mecanum_PowerMoveControl(void);`å‡½æ•°å®ç°åŠŸç‡æ§åˆ¶ï¼Œå…·ä½“å®ç°ç”±ä¸‹æ–¹åŠŸç‡æ§åˆ¶ä»£ç ä»‹ç»ã€‚

### 2. äº‘å°ä»£ç è¯´æ˜

äº‘å°ä»£ç ä¸»è¦åˆ†ä¸ºå¦‚ä¸‹å››ä¸ªå‡½æ•°

```c
void Gimbal_PitchControl(void);//äº‘å°Pitchè½´æ§åˆ¶
void Gimbal_YawControl(void);//äº‘å°Yawè½´æ§åˆ¶
void Gimbal_FiringMechanismControl(void);//æ‘©æ“¦è½®æ§åˆ¶
void Gimbal_Rammer(void);//æ‹¨å¼¹ç›˜æ§åˆ¶
```

äº‘å°Pitchè½´æ§åˆ¶å’ŒYawè½´æ§åˆ¶ä¸»è¦æ˜¯å¯¹ä¸¤ä¸ª6020ç”µæœºçš„ä¸²çº§PIDä¿è¯äº‘å°é™€èºä»ªä¿æŒæœŸæœ›å§¿æ€ï¼Œå¹¶é€šè¿‡é¥æ§å™¨å¯ä»¥å¯¹å§¿æ€è¿›è¡Œæ”¹å˜ã€‚äº‘å°Pitchè½´æ§åˆ¶ä¸­åŒ…å«äº†è§†è§‰è¡¥å¿ä»£ç ï¼Œå…·ä½“ä»‹ç»è§ä¸‹æ–¹è§†è§‰è”è°ƒä»£ç ä»‹ç»ã€‚ç”±äºæœºå™¨äººäº‘å°Yawè½´æ§åˆ¶ä¸€ç›´ä¿æŒä¸ºé™€èºä»ªè§’åº¦æ§åˆ¶ï¼Œäºæ˜¯æ²¡å¿…è¦è€ƒè™‘å°é™€èºçŠ¶æ€æ—¶çš„ç‰¹æ®Šå¤„ç†ã€‚

æ‘©æ“¦è½®æ§åˆ¶å’Œæ‹¨å¼¹ç›˜æ§åˆ¶å‡ä¸ºä¸€ä¸ªç®€å•çš„é€Ÿåº¦ç¯PIDï¼Œä¸è¿‡æ³¨æ„åœ¨æ‘©æ“¦è½®æœªå¼€å¯æ—¶æ— æ³•è¿›è¡Œæ‹¨å¼¹ç›˜æ§åˆ¶ï¼ŒåŒæ—¶åœ¨æ¯”èµ›å¼€å§‹å‘å°„æœºæ„æœªä¸Šç”µæ—¶ä¹Ÿæ— æ³•æ§åˆ¶æ‘©æ“¦è½®å’Œæ‹¨å¼¹ç›˜ã€‚

### 3. è§†è§‰è”è°ƒè¯´æ˜

è§†è§‰è¿™ä¸ªéƒ¨åˆ†å¾ˆé¸¡è‚‹ï¼Œåœ¨ä»£ç é‡Œæ‰¾äº†ä¸ªåœ°æ–¹ç•™äº†ä¸ªæ¥å£ï¼Œä½†æ˜¯ä¸€ç›´åˆ°æ¯”èµ›å‰ï¼Œè§†è§‰ä¸€ç›´æ‘†çƒ‚æ¯«æ— æˆæœï¼Œå¯¼è‡´è§†è§‰è”è°ƒå®Œå…¨æ²¡åšï¼Œåæ¥ä¹Ÿæ‡’å¾—æ”¹äº†ï¼Œæ¥å£å°±ä¸€ç›´ç•™åœ¨ä¿¯ä»°æ§åˆ¶çš„å‡½æ•°é‡Œäº†ã€‚

å¦‚æœè¦åšè§†è§‰è”è°ƒï¼Œé¦–å…ˆé€šè®¯æ•°æ®å¸§å¦‚ä¸‹

> å¸§å¤´				æ•°æ®ï¼ˆé«˜ä½åœ¨å‰ï¼‰														å¸§å°¾
>
> 0x09	0x14	Visual_Yaw\*100(2Byte)	Visual_Pitch\*100(2Byte)	0x18

é‡‡ç”¨äº†ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„åŒ…ç»“æ„ï¼Œæ–¹ä¾¿è‡ªå·±æ–¹ä¾¿é˜Ÿå‹ã€‚

åœ¨åšè§†è§‰è”è°ƒæ—¶å¯ä»¥è€ƒè™‘æŠŠè§†è§‰è¡¥å¿æ‹¿å‡ºæ¥å•ç‹¬ä½œä¸ºä¸€ä¸ªå‡½æ•°ã€‚

### 4. åŠŸç‡æ§åˆ¶ä»£ç è¯´æ˜

æ­¤åŠŸç‡æ§åˆ¶æ¨¡å‹ä¸ºå±±æµ·Masæˆ˜é˜Ÿè‡ªç ”ï¼Œä»åŠŸç‡ä¸Šé™ã€é€Ÿåº¦ã€ç”µæµè¿›è¡Œä¸‰é—­ç¯æ§åˆ¶ï¼Œæ•…ç®€ç§°ä¸º**PVIæ¨¡å‹**ã€‚

PVIåŠŸç‡æ¨¡å‹ä¸»è¦åˆ†ä¸º**ä¸‰è½´é€Ÿåº¦è·å–**ã€**å°é™€èºå¤„ç†**ã€**åŠŸç‡ä¸Šé™å¤„ç†**ã€**åŠŸç‡æ§åˆ¶**å’Œ**è¿åŠ¨æ§åˆ¶**äº”éƒ¨åˆ†ã€‚

#### 4.1 ä¸‰è½´é€Ÿåº¦è·å–

```C
	float vx=1024-Remote_RxData.Remote_R_UD;
	float vy=1024-Remote_RxData.Remote_R_RL;
	float w=1024-Remote_RxData.Remote_L_RL;//è·å–ä¸‰ä¸ªè½´çš„é€Ÿåº¦å‚é‡
	float sigma=sqrtf(vx*vx+vy*vy);//è·å–xyè½´é€Ÿåº¦å½’ä¸€åŒ–ç³»æ•°
	if(sigma!=0)//x,yè½´é€Ÿåº¦å½’ä¸€åŒ–(æ­£äº¤åˆæˆé€Ÿåº¦ä¸å˜ä¸ºæ ‡å‡†å€¼)
	{
		vx=vx/sigma*Mecanum_PowerControlSpeedNormalizationValue;
		vy=vy/sigma*Mecanum_PowerControlSpeedNormalizationValue;
	}
	
	int16_t Raw_Theta=Yaw_GM6020PositionValue-GM6020_MotorStatus[0].Angle;//è·å–åº•ç›˜äº‘å°ç›¸å¯¹è§’åº¦åŸå§‹æ•°æ®
	if(Raw_Theta<0)Raw_Theta+=8192;
	//Mecanum_YawTheta=Raw_Theta/8192.0f*2.0f*3.141592653589793238462643383279f;
	Mecanum_YawTheta=Raw_Theta*0.000766990393942820614859043794746f;//è·å–åº•ç›˜äº‘å°ç›¸å¯¹è§’åº¦
	
	float vx_=vx,vy_=vy;
	vx=vx_*cosf(Mecanum_YawTheta)-vy_*sinf(Mecanum_YawTheta);
	vy=vx_*sinf(Mecanum_YawTheta)+vy_*cosf(Mecanum_YawTheta);//æ ¹æ®åº•ç›˜äº‘å°ç›¸å¯¹è§’åº¦ä¿®æ­£xyè½´é€Ÿåº¦
```

æ­¤å¤„ä»£ç é¦–å…ˆé€šè¿‡é¥æ§å™¨è·å–ä¸‰è½´é€Ÿåº¦ï¼ˆä»¥äº‘å°åæ ‡ç³»ä¸ºåŸºå‡†ï¼‰ï¼Œç„¶åå¯¹ $v_x$ å’Œ $v_{y}$ è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œæ–¹ä¾¿åæ–¹é€Ÿåº¦å¢ç›Šçš„ä¸€è‡´æ€§ï¼Œç„¶åè¿›è¡Œåæ ‡å˜æ¢è·å–åº•ç›˜åæ ‡ç³»çš„ $v_x$ å’Œ $v_{y}$ ã€‚

#### 4.2 å°é™€èºå¤„ç†

```C
	if(Yaw_GM6020PositionValue<4096)//æ­£å‘å°é™€èºä¸ºé€†æ—¶é’ˆ
	{
		if((Remote_RxData.Remote_RS==2 || Remote_RxData.Remote_KeyPush_Ctrl==1) || (Mecanum_GyroScopeFlag==1 && Mecanum_GyroScopeCloseFlag==1 && GM6020_MotorStatus[0].Position<Yaw_GM6020PositionValue+500))//å°é™€èºæ¨¡å¼
		{
			w=Mecanum_GyroScopeAngularVelocity;
			Mecanum_GyroScopeFlag=1;//å¤„äºå°é™€èºçŠ¶æ€
			Mecanum_GyroScopeCloseFlag=1;//å°é™€èºå¤„äºå¾…å…³é—­çŠ¶æ€
		}
		else if(Mecanum_GyroScopeFlag==1 && ((GM6020_MotorStatus[0].Angle>Yaw_GM6020PositionValue+100 || GM6020_MotorStatus[0].Angle<Yaw_GM6020PositionValue-100) || (GM6020_MotorStatus[0].Speed>2||GM6020_MotorStatus[0].Speed<-2)))//å°é™€èºå…³é—­çŠ¶æ€
		{
			PID_PositionSetOUTRange(&Mecanum_TrackPID,-2,2);
			PID_PositionCalc(&Mecanum_TrackPID,GM6020_MotorStatus[0].Position);//åº•ç›˜è·Ÿäº‘å°
			w=-Mecanum_TrackPID.OUT;
			Mecanum_GyroScopeCloseFlag=0;//å°é™€èºæœªå¤„äºå¾…å…³é—­çŠ¶æ€
		}
		else if(Remote_RxData.Remote_RS==1)//åå‘å°é™€èºæ¨¡å¼(ä»…æ£€å½•ä½¿ç”¨)
			w=-Mecanum_GyroScopeAngularVelocity;
		else
		{
			PID_PositionSetOUTRange(&Mecanum_TrackPID,-5,5);
			Mecanum_GyroScopeFlag=0;
			PID_PositionCalc(&Mecanum_TrackPID,GM6020_MotorStatus[0].Position);//åº•ç›˜è·Ÿäº‘å°
			w=-Mecanum_TrackPID.OUT;
		}
	}
	else//æ­£å‘å°é™€èºä¸ºé¡ºæ—¶é’ˆ
	{
		if((Remote_RxData.Remote_RS==2 || Remote_RxData.Remote_KeyPush_Ctrl==1) || (Mecanum_GyroScopeFlag==1 && Mecanum_GyroScopeCloseFlag==1 && GM6020_MotorStatus[0].Position>Yaw_GM6020PositionValue-500))//å°é™€èºæ¨¡å¼
		{
			w=-Mecanum_GyroScopeAngularVelocity;
			Mecanum_GyroScopeFlag=1;//å¤„äºå°é™€èºçŠ¶æ€
			Mecanum_GyroScopeCloseFlag=1;//å°é™€èºå¤„äºå¾…å…³é—­çŠ¶æ€
		}
		else if(Mecanum_GyroScopeFlag==1 && ((GM6020_MotorStatus[0].Angle>Yaw_GM6020PositionValue+5 || GM6020_MotorStatus[0].Angle<Yaw_GM6020PositionValue-5) || (GM6020_MotorStatus[0].Speed>1||GM6020_MotorStatus[0].Speed<-1)))//å°é™€èºå…³é—­çŠ¶æ€
		{
			PID_PositionSetOUTRange(&Mecanum_TrackPID,-2,2);
			PID_PositionCalc(&Mecanum_TrackPID,GM6020_MotorStatus[0].Position);//åº•ç›˜è·Ÿäº‘å°
			w=-Mecanum_TrackPID.OUT;
			Mecanum_GyroScopeCloseFlag=0;//å°é™€èºæœªå¤„äºå¾…å…³é—­çŠ¶æ€
		}
		else if(Remote_RxData.Remote_RS==1)//åå‘å°é™€èºæ¨¡å¼(ä»…æ£€å½•ä½¿ç”¨)
			w=Mecanum_GyroScopeAngularVelocity;
		else
		{
			PID_PositionSetOUTRange(&Mecanum_TrackPID,-5,5);
			Mecanum_GyroScopeFlag=0;
			PID_PositionCalc(&Mecanum_TrackPID,GM6020_MotorStatus[0].Position);//åº•ç›˜è·Ÿäº‘å°
			w=-Mecanum_TrackPID.OUT;
		}
	}
```

å°é™€èºçš„å¤„ç†ä¸»è¦åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š**å°é™€èºçŠ¶æ€**ã€**æ­£å¸¸çŠ¶æ€**å’Œ**è¿‡æ¸¡çŠ¶æ€**ï¼Œè¿‡æ¸¡çŠ¶æ€åº”ç”¨äºå°é™€èºçŠ¶æ€è½¬æ¢æ­£å¸¸çŠ¶æ€æ—¶ï¼Œä¸»è¦ä¸ºäº†é¿å…æ­¤æ—¶å‘ç”Ÿçš„ç”µæœºæ¢å‘äº§ç”Ÿçš„å¤§ç”µæµï¼Œä¸ºäº†æ›´å¥½çš„è¿‡æ¸¡çŠ¶æ€ï¼Œç”±åº•ç›˜äº‘å°åŒå‘æ—¶çš„Yawè½´6020ç¼–ç å™¨å€¼åŒºåˆ†æ­£å‘å°é™€èºä¸ºé¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆï¼ŒåŒæ—¶ï¼Œå¯¹è¿‡æ¸¡çŠ¶æ€å’Œæ­£å¸¸çŠ¶æ€çš„åº•ç›˜è·Ÿéšè§’é€Ÿåº¦è¾“å‡ºé™å¹…è¿›è¡ŒåŒºåˆ«é˜²æ­¢è¿‡æ¸¡çŠ¶æ€è¶…è°ƒã€‚

#### 4.3 åŠŸç‡ä¸Šé™å¤„ç†

**æ­¤å¤„ä¸ºPVIæ¨¡å‹çš„ç¬¬ä¸€ç¯â€”â€”åŠŸç‡ç¯ã€‚**

åŠŸç‡ä¸Šé™åŒºåˆ«äºè£åˆ¤ç³»ç»Ÿä¸­çš„åŠŸç‡ä¸Šé™ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹åŠŸç‡ä¸Šé™é«˜äºè£åˆ¤ç³»ç»Ÿçš„åŠŸç‡ä¸Šé™ã€‚å¯¹åŠŸç‡ä¸Šé™çš„çº¦æŸæ¥è‡ªäº**ç¼“å†²èƒ½é‡**ã€**è¿åŠ¨çŠ¶æ€**å’Œ**è¶…ç”µ**ã€‚

##### 4.3.1 ç¼“å†²èƒ½é‡çº¦æŸ

```C
	float Mecanum_PowerRef=1.0f/(60.0f-Mecanum_PowerControl_UseBuffer)*RefereeSystem_Buffer;//åŠŸç‡å¢ç›Š
	if(Mecanum_PowerRef>Mecanum_PowerControl_PowerMax)Mecanum_PowerRef=Mecanum_PowerControl_PowerMax;
	Mecanum_PowerLimit=Mecanum_PowerRef*RefereeSystem_Ref;
```

ç¼“å†²èƒ½é‡çº¦æŸä¸ºç¬¬ä¸€çº§çº¦æŸï¼Œä¸å…¶è¯´æ˜¯çº¦æŸï¼Œä¸å¦‚è¯´æ˜¯è·å–ï¼Œåœ¨æ­¤å¤„é€šè¿‡å¦‚ä¸‹å…¬å¼è·å–æœ€åˆå§‹çš„åŠŸç‡ä¸Šé™å€¼ã€‚

$$
PowerLimit=\dfrac{Buffer}{60-UseBuffer}\times PowerRef
$$

å¯¹åŠŸç‡å¢ç›Šç³»æ•° $K_{buffer}=\dfrac{Buffer}{60-UseBuffer}$ ä½œå›¾ï¼Œå¯ä»¥å¾—åˆ°

![ç¼“å†²èƒ½é‡åŠŸç‡å¢ç›Š.png](https://github.com/zpclyn/Mas_Infantry_Control/blob/main/IMAGE/%E7%BC%93%E5%86%B2%E8%83%BD%E9%87%8F%E5%8A%9F%E7%8E%87%E5%A2%9E%E7%9B%8A.png?raw=true)

æ­¤å…¬å¼å®ç°äº†ç¼“å†²èƒ½é‡è¶Šå¤šï¼ŒåŠŸç‡è¶Šå¤§ï¼Œåœ¨ $Buffer=60-UseBuffer$ æ—¶ï¼ŒåŠŸç‡å¢ç›Šä¸º1ï¼Œåœ¨æ­¤å¤„ç¨³å®šä¸‹æ¥ã€‚åŒæ—¶ç¼“å†²èƒ½é‡åˆ©ç”¨è¶Šå¤šï¼ŒåŠŸç‡è¶Šå¤§ï¼Œå……åˆ†åˆ©ç”¨ç¼“å†²èƒ½é‡æé«˜åŠŸç‡ã€‚åŒæ—¶åœ¨é£å¡åä¹Ÿæœ‰å¾ˆå¥½çš„æ•ˆæœï¼Œä¼šæœ‰æ›´é«˜çš„åŠŸç‡å¢ç›Šã€‚

##### 4.3.2 è¿åŠ¨çŠ¶æ€çº¦æŸ

```C
	float Scale=sigma/660.0f;
	if(Scale<1 && Scale>0)Mecanum_PowerLimit*=Scale;//å¹³ç§»çº¦æŸ
	if(Mecanum_GyroScopeFlag==1)Mecanum_PowerLimit=Mecanum_PowerRef*RefereeSystem_Ref;//å°é™€èºçº¦æŸ
	if(Mecanum_PowerLimit>150.0f)Mecanum_PowerLimit=150.0f;//é™å¹…çº¦æŸ
```

æ­¤å¤„çº¦æŸä¸»è¦é’ˆå¯¹é¥æ§å™¨æ‘‡æ†ï¼Œæ‘‡æ†æ‹¨åŠ¨ç¨‹åº¦ä¸åŒï¼ŒåŠŸç‡ä¸Šé™æˆæ¯”ä¾‹æ”¾ç¼©ã€‚åŒæ—¶å¯¹äºå°é™€èºçŠ¶æ€ï¼ŒåŠŸç‡ä¸Šé™ä¸ä¼šæ”¾ç¼©ã€‚

##### 4.3.3 è¶…ç”µçº¦æŸ

```C
	if(Remote_RxData.Remote_KeyPush_Shift==1)//å¼€å¯è¶…ç”µ
	{
		if(Mecanum_PowerLimit>0.0f)
		{
			if(Mecanum_PowerLimit<RefereeSystem_Ref)Mecanum_PowerLimit+=Mecanum_PowerControl_UltraCAPPower;
			else Mecanum_PowerLimit=RefereeSystem_Ref+Mecanum_PowerControl_UltraCAPPower;
		}
		Ultra_CAP_SetPower(RefereeSystem_Ref);
	}
	else
		Ultra_CAP_SetPower(Mecanum_PowerLimit);
```

æœªå¼€å¯è¶…ç”µæ—¶ï¼Œä½¿è¶…ç”µçš„åŠŸç‡ä¸Šé™å’Œè½¯ä»¶åŠŸç‡ä¸Šé™ä¸€è‡´ï¼Œä½¿è¶…ç”µæ— æ³•å·¥ä½œï¼Œä¿ç•™ç”µé‡ã€‚å¼€å¯è¶…ç”µæ—¶ï¼Œä½¿è½¯ä»¶ä¸Šé™ç›´æ¥å¢å¤§`Mecanum_PowerControl_UltraCAPPower`ï¼Œå¹¶ä½¿è¶…ç”µåŠŸç‡ä¸Šé™ç­‰äºè£åˆ¤ç³»ç»ŸåŠŸç‡ä¸Šé™ï¼Œä½¿åº•ç›˜å¤„äºè¶…åŠŸç‡è¿è¡Œã€‚

#### 4.4 åŠŸç‡æ§åˆ¶

**æ­¤å¤„ä¸ºPVIæ¨¡å‹çš„ç¬¬äºŒä¸‰ç¯â€”â€”é€Ÿåº¦ç¯å’Œç”µæµç¯ã€‚**

##### 4.4.1 é€Ÿåº¦ç¯

```C
	if(Count==Mecanum_PowerControl_T)//ä¸€ä¸ªæ§åˆ¶å‘¨æœŸ
	{
		Count=0;//è®¡æ•°å™¨æ¸…é›¶
		float Power_avg=PowerSum/Mecanum_PowerControl_T;
		PowerSum=0;
		
		if(Power_avg<Mecanum_PowerLimit/2.0f)
		{
			GainCoefficient+=0.05f;//å¢ç›Šç³»æ•°é€’å‡
			if(GainCoefficient>2)GainCoefficient=2;//å¢ç›Šç³»æ•°é™ä¸Šå¹…2
		}
		else if(Power_avg<Mecanum_PowerLimit-5)
		{
			GainCoefficient+=0.02f;//å¢ç›Šç³»æ•°é€’å‡
			if(GainCoefficient>2)GainCoefficient=2;//å¢ç›Šç³»æ•°é™ä¸Šå¹…2
		}
		else if(Power_avg>Mecanum_PowerLimit+5)
		{
			if(RefereeSystem_Buffer<60.0f-Mecanum_PowerControl_UseBuffer)GainCoefficient-=0.05f;//å¢ç›Šç³»æ•°é€’å¢
			else GainCoefficient-=0.02f;//å¢ç›Šç³»æ•°é€’å¢
			if(GainCoefficient<Mecanum_PowerControlGainCoefficientInitialValue/2.0f)GainCoefficient=Mecanum_PowerControlGainCoefficientInitialValue/2.0f;//å¢ç›Šç³»æ•°é™ä¸‹å¹…
		}
	}
	else if(vx!=0 || vy!=0 || Mecanum_GyroScopeFlag==1)//æ­£å¸¸è¿åŠ¨
		Count++;
	else//åœæ­¢è¿åŠ¨
		GainCoefficient=Mecanum_PowerControlGainCoefficientInitialValue;//å¢ç›Šç³»æ•°å›å½’åˆå§‹å€¼
	if(Mecanum_GyroScopeFlag==1 && (vx!=0 || vy!=0)){w*=0.6f;vx*=0.5f;vy*=0.5f;}//å°é™€èºç§»åŠ¨ç›´æ¥é™é€Ÿ,ä¿è¯ç§»åŠ¨ç¬é—´ä¸ºç¼“å†²èƒ½é‡å¢åŠ 
```

é€Ÿåº¦ç¯çš„ä¸»è¦å®ç°æ–¹å¼ä¸ºé€Ÿåº¦å¢ç›Šç³»æ•°ã€‚é€šè¿‡é€Ÿåº¦ä¹˜ä¸Šå¢ç›Šç³»æ•°æ”¹å˜é€Ÿåº¦å¤§å°ä»è€Œæ”¹å˜åŠŸç‡ï¼ŒåŒæ—¶é€Ÿåº¦å¢ç›Šç³»æ•°å˜åŒ–é€Ÿåº¦è·ŸåŠŸç‡ä¸åŠŸç‡ä¸Šé™çš„å·®å€¼æœ‰å…³ï¼Œç›¸å·®è¶Šå¤šå˜åŒ–è¶Šå¿«ã€‚

åŒæ—¶åœ¨åœæ­¢è¿åŠ¨æ—¶ä½¿å¢ç›Šç³»æ•°å›å½’åˆå§‹çŠ¶æ€ä¿è¯é—­ç¯çš„æŒç»­æ€§ã€‚

åœ¨å°é™€èºçŠ¶æ€ä¸‹ï¼Œé€šè¿‡é™é€Ÿæ¥æŠ‘åˆ¶æ¢å‘å¤§ç”µæµï¼ŒåŒæ—¶ç”±äºåŠŸç‡çš„ä¸‹é™å¯¼è‡´ç¼“å†²èƒ½é‡å›å¤ã€‚

##### 4.4.2 ç”µæµç¯

```C
	float Mecanum_BufferCurrent=Mecanum_PowerLimit*512.0f/15.0f;
	float Mecanum_PowerCurrent=Mecanum_PowerLimit*512.0f/15.0f*5.0f;
	float B,C=0.9f;
	if(60.0f-Mecanum_PowerControl_UseBuffer-10.0f>10.0f)B=60.0f-Mecanum_PowerControl_UseBuffer-10.0f;
	else B=10.0f;
	if(RefereeSystem_Buffer>B)
	{
		float PowerScale=0;
		if(Mecanum_Power>C*Mecanum_PowerLimit)
		{
			if(Mecanum_Power>Mecanum_PowerLimit)PowerScale=0;
			else PowerScale=(Mecanum_PowerLimit-Mecanum_Power)/(Mecanum_PowerLimit-C*Mecanum_PowerLimit);
		}
		else PowerScale=1;
		Mecanum_CurrentLimit=Mecanum_BufferCurrent+Mecanum_PowerCurrent*PowerScale;
	}
	else
	{
		if(RefereeSystem_Buffer<5.0f)Mecanum_CurrentLimit=Mecanum_BufferCurrent*0.5f;
		else Mecanum_CurrentLimit=Mecanum_BufferCurrent*(RefereeSystem_Buffer+B-10.0f)/(2*B-10.0f);
	}
	if(Mecanum_CurrentLimit>16384*4)Mecanum_CurrentLimit=16384*4;
```

ç”µæµç¯çš„å®ç°ä¸»è¦é€šè¿‡å¯¹ç”µæµçš„é™å¹…æ¥è¿›è¡ŒåŠŸç‡æ§åˆ¶ï¼Œåœ¨æ­¤ä»…è®¨è®ºç”µæµé™å¹…å¤§å°çš„ç¡®å®šé€»è¾‘ã€‚

ç”µæµç¯çš„è¿è¡Œé€»è¾‘å¦‚ä¸‹æ‰€ç¤º

![ç”µæµç¯.png](https://github.com/zpclyn/Mas_Infantry_Control/blob/main/IMAGE/%E7%94%B5%E6%B5%81%E7%8E%AF.png?raw=true)

è½¬æ¢æˆæ•°å­¦è¡¨è¾¾å¼ä¸º

$$
I_{Limit}=\begin{cases}
\dfrac{1}{2}I_{Buffer},&Buffer < 5\\
\dfrac{Buffer+B-10}{2B-10}\times I_{Buffer},&5 \leqslant Buffer \leqslant B\\
I_{Buffer}+I_{Power},&B < Buffer,P \leqslant 0.9P_{Limit}\\
I_{Buffer}+\dfrac{P_{Limit}-P}{P_{Limit}-0.9P}\times I_{Power},&B < Buffer,0.9P_{Limit} < P \leqslant P_{Limit}\\
I_{Buffer},&B < Buffer,P_{Limit} < P
\end{cases}\\
\\\
\text{å…¶ä¸­},I_{Buffer}=\dfrac{512}{15}P_{Limit},I_{Power}=\dfrac{512\times 5}{15}P_{Limit}
$$

è€Œå…¶ä¸­ç”µæµä¸åŠŸç‡çš„å¯¹åº”æ¯”ä¾‹å…³ç³»ä¸º

$$
P=UI_{å®é™…}=24V\times(\dfrac{I}{16384}\times20A)=\dfrac{15}{512}\times I
$$

æ•…ç”µæµé™å¹…å¯ç”¨åŠŸç‡å¢ç›Šç³»æ•°ç­‰æ•ˆè¡¨ç¤ºã€‚

ç”µæµåŠŸç‡å¢ç›Šç³»æ•°è¡¨è¾¾å¼ä¸º

$$
K_I=
\begin{cases}
\dfrac{1}{2},&Buffer < 5\\
\dfrac{Buffer+B-10}{2B-10},&5 \leqslant Buffer \leqslant B\\
6,&B < Buffer,P \leqslant 0.9P_{Limit}\\
1+5\times\dfrac{P_{Limit}-P}{P_{Limit}-0.9P},&B < Buffer,0.9P_{Limit} < P \leqslant P_{Limit}\\
1,&B < Buffer,P_{Limit} < P
\end{cases}
$$

ç”±æ­¤å¯åšå‡ºä¸¤å¼ å›¾åƒæ¥æ›´ç›´è§‚çš„è¡¨ç°ç”µæµåŠŸç‡å¢ç›Šç³»æ•°

å›¾1ï¼š $Buffer<=Bæ—¶,K_I-Bufferæ›²çº¿$ 

![ç”µæµåŠŸç‡å¢ç›Šç³»æ•°1.png](https://github.com/zpclyn/Mas_Infantry_Control/blob/main/IMAGE/%E7%94%B5%E6%B5%81%E5%8A%9F%E7%8E%87%E5%A2%9E%E7%9B%8A%E7%B3%BB%E6%95%B01.png?raw=true)

å›¾2ï¼š $Buffer>Bæ—¶,K_I-Pæ›²çº¿$ ï¼ˆå‡å®š $P_{Limit}=1$ ï¼‰

![ç”µæµåŠŸç‡å¢ç›Šç³»æ•°2.png](https://github.com/zpclyn/Mas_Infantry_Control/blob/main/IMAGE/%E7%94%B5%E6%B5%81%E5%8A%9F%E7%8E%87%E5%A2%9E%E7%9B%8A%E7%B3%BB%E6%95%B02.png?raw=true)

æ³¨æ„ï¼Œç”±äºç”µå‹å¹¶é24Vï¼Œæ•…ç”µæµåŠŸç‡å¯¹åº”æ¯”ä¾‹å…³ç³»å¹¶ä¸å‡†ç¡®ï¼Œè€Œä¸”ç”µæµç¯çš„å…¬å¼å¹¶éæœ€ä¼˜è§£ï¼Œæœ‰å¤§é‡çš„ä¼˜åŒ–ç©ºé—´ã€‚

#### 4.5è¿åŠ¨æ§åˆ¶

```C
	vx*=GainCoefficient;vy*=GainCoefficient;
	if(Mecanum_GyroScopeFlag==1)w*=GainCoefficient;
	int16_t LeftFrontSpeed=(int16_t)((-vx-vy-w*(Mecanum_rx+Mecanum_ry)/100.0f)/Mecanum_WheelRadius*18143.663512f);//å·¦å‰
	int16_t RightFrontSpeed=(int16_t)((vx-vy-w*(Mecanum_rx+Mecanum_ry)/100.0f)/Mecanum_WheelRadius*18143.663512f);//å³å‰
	int16_t LeftRearSpeed=(int16_t)((-vx+vy-w*(Mecanum_rx+Mecanum_ry)/100.0f)/Mecanum_WheelRadius*18143.663512f);//å·¦å
	int16_t RightRearSpeed=(int16_t)((vx+vy-w*(Mecanum_rx+Mecanum_ry)/100.0f)/Mecanum_WheelRadius*18143.663512f);//å³å
	
	Mecanum_ControlSpeed(LeftFrontSpeed,RightFrontSpeed,LeftRearSpeed,RightRearSpeed);
```

æ­¤å¤„å³ä¸ºéº¦å…‹çº³å§†è½®é€†è¿åŠ¨è§£ç®—ï¼Œè§ä¸Šæ–¹åº•ç›˜ä»£ç ä»‹ç»ã€‚

### 5.å®˜æ–¹å§¿æ€è§£ç®—ä»£ç ç§»æ¤è¯´æ˜

æœ€å¼€å§‹æˆ‘é‡‡ç”¨äº†è½¯ä»¶æ•™ç¨‹æ–‡æ¡£ä¸­çš„å§¿æ€è§£ç®—ä»£ç åŠPIå‚æ•°ï¼Œä½†æ•ˆæœå¾ˆä¸ç†æƒ³ï¼Œæœ€åé€šè¿‡ç§»æ¤å®˜æ–¹å§¿æ€è§£ç®—ä»£ç è·å¾—äº†æå¤§çš„æ”¹å–„ã€‚ä¸‹æ–¹æ˜¯ç§»æ¤å§¿æ€è§£ç®—ä»£ç çš„æ–¹æ³•ã€‚

1. å°†AHRSæ–‡ä»¶å¤¹ç§»å…¥å·¥ç¨‹æ–‡ä»¶å¤¹ã€‚
2. åœ¨Keilå·¥ç¨‹ä¸­å¯¼å…¥**AHRS.lib**ã€**ahrs_lib.h**ã€**AHRS_middleware.c**ã€**AHRS_middleware.h**ã€**user_lib.c**å’Œ**user_lib.h**å…­ä¸ªæ–‡ä»¶ã€‚
3. åœ¨**Options->C/C++**ä¸­çš„**Include Paths**å¼•å…¥AHRSæ–‡ä»¶å¤¹ï¼Œ**Define**ä¸­åŠ å…¥**,ARM_MATH_CM4,__FPU_PRESENT=1U**ã€‚
4. æ³¨é‡Š**stm32f4xx.h**ä¸­183è¡Œçš„`#define __FPU_PRESENT             1       /*!< FPU present                                   */`è¯­å¥ã€‚

### 6.æ—¶é’Ÿä¿®æ”¹è¯´æ˜

ä¸ºäº†ä½¿å®šæ—¶å™¨æ—¶é’Ÿæ­£ç¡®ï¼Œéœ€è¦æ ¹æ®ä¸‹å›¾æ—¶é’Ÿæ ‘å¯¹æ ‡å‡†åº“ä»£ç è¿›è¡Œä¸€å®šçš„ä¿®æ”¹ã€‚

![Cæ¿æ—¶é’Ÿæ ‘.jpg](https://github.com/zpclyn/Mas_Infantry_Control/blob/main/IMAGE/C%E6%9D%BF%E6%97%B6%E9%92%9F%E6%A0%91.jpg?raw=true)

* å°†**stm32f4xx.h**çš„137è¡Œä¸­**HSE**é¢‘ç‡æ”¹ä¸º12MHzã€‚
* å°†**system_stm32f4xx.h**çš„364è¡Œ**PLL_M**æ”¹ä¸º6ï¼Œ377è¡Œ**PLL_Q**æ”¹ä¸º4ï¼Œ394è¡Œ**PLL_N**æ”¹ä¸º168ï¼Œ396è¡Œ**PLL_P**æ”¹ä¸º2ã€‚

## å…­ã€æ³¨æ„äº‹é¡¹å’Œæ”¹è¿›

1. å®šæ—¶å™¨å’Œä¸­æ–­ä¼˜å…ˆçº§å°½é‡ä¸è¦ä¿®æ”¹ï¼Œè£¸æœºå¼€å‘çš„å¼Šç—…ï¼Œæ”¹ä¸å¥½å®¹æ˜“ç–¯è½¦ã€‚
2. å…¶å®åœ¨åº•ç›˜è·Ÿéšæ—¶ï¼Œç”±äºåŠŸç‡æ§åˆ¶çš„ä¸€äº›é™å®šï¼Œè·Ÿéšé€Ÿåº¦å¾ˆæ…¢ï¼Œåœ¨åæœŸæ›´æ”¹ä¸­éœ€è¦å®Œå–„ã€‚åº•ç›˜è·Ÿéšçš„é€»è¾‘è¿˜å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ï¼Œè·‘åŠ¨èµ·æ¥ä¹‹ååœ¨è½¬å¼¯æ—¶æœ‰äº›æ‰­åŠ¨ã€‚
3. é¼ æ ‡æ§åˆ¶ä¹Ÿå…·æœ‰ä¸€å®šçš„é—®é¢˜ï¼Œå»¶è¿Ÿæ¯”è¾ƒå¤§ï¼Œå¯èƒ½é€»è¾‘ä¸Šæˆ–æ—¶åºä¸Šæœ‰äº›é—®é¢˜ï¼Œè¿˜éœ€å®Œå–„ã€‚
4. åœ¨é£å¡ä¹‹åçš„250Jç¼“å†²èƒ½é‡ï¼Œè¿˜å¯ä»¥æœ‰æ›´å¥½çš„æ§åˆ¶æ–¹æ³•ï¼Œæ ¹æ®ä¸‹é¢çš„èµ›è§„ï¼Œæ„Ÿè§‰æœ‰æ›´å¥½çš„ç©æ³•ã€‚

> è‹±é›„æœºå™¨äººã€æ­¥å…µæœºå™¨äººæˆ–å“¨å…µæœºå™¨äººè§¦å‘é£å¡å¢ç›Šåï¼Œç¼“å†²èƒ½é‡å¢åŠ è‡³ 250Jã€‚åç»­è‹¥ç¼“å†²èƒ½é‡æ¶ˆè€—è‡³ 60J ä»¥ä¸‹ï¼Œç¼“å†²èƒ½é‡æœ€é«˜å¯æ¢å¤è‡³ 60Jã€‚

5. Pitchè½´6020å®¹æ˜“å¡ä½å°å¼¹ä¸¸å¯¼è‡´å µè½¬ï¼Œå—éƒ¨èµ›åŒºçš„æ—¶å€™çœŸçš„å‘ç”Ÿäº†ï¼Œå¯ä»¥è€ƒè™‘åƒå·¥ç¨‹ä¸€æ ·åšå µè½¬ä¿æŠ¤ã€‚
6. åå‘å°é™€èºè¿˜å¯ä»¥æ”¹ä¸€æ”¹ï¼ŒåŠ ä¸€ä¸‹è¿‡æ¸¡è¿‡ç¨‹ã€‚
7. é¥æ§å™¨å’Œå›¾ä¼ é“¾è·¯çš„å…¼å®¹è¿˜æœ‰é—®é¢˜ï¼Œä¸èƒ½åšåˆ°æ¯”èµ›ä¸­ä¸¤è€…éšæ„æ›´æ¢ã€‚å›¾ä¼ é“¾è·¯çš„æ£€æµ‹æ—¶é—´ä¹Ÿæ²¡ç²¾è°ƒã€‚
8. Pitchè½´å’ŒYawè½´çš„6020è¿˜æœ‰ä¸€äº›å°å¹…çš„ä½é¢‘æŠ–åŠ¨ï¼Œè¿˜éœ€è¦ç²¾è°ƒä¸€ä¸‹PIDæˆ–è€…æ»¤ä¸€ä¸‹æ³¢ã€‚
9. IST8310åˆå§‹åŒ–æœ‰æ—¶è¿‡ä¸å»ä¼šæŠ¥è­¦ï¼Œåç»­å¯ä»¥åšä¸€äº›å¤„ç†ã€‚

## å†™åœ¨æœ€å

ä»Šå¹´æ˜¯æˆ‘å…¥é˜Ÿçš„ç¬¬äºŒå¹´ï¼Œæ­£å¼åšè½¦çš„ç¬¬ä¸€å¹´ï¼Œå½“æ—¶çš„æˆ‘è¿˜æ‡µæ‡‚æ— çŸ¥ï¼Œåˆšåˆšè½¬åŠ¨ä¸€ä¸ª3508ä¾¿å…´å¥‹å¼‚å¸¸ï¼Œåˆ°ç°åœ¨è™½ç„¶è¿˜æ˜¯å¾ˆèœï¼Œä½†ä¹Ÿèƒ½ç‹¬å½“ä¸€é¢ï¼ˆäº†å§ï¼Ÿï¼‰ã€‚å›æœ›è¿™ä¸€å¹´ï¼Œæ„Ÿè§¦é¢‡æ·±ï¼Œæˆ‘ä»ç„¶è®°å¾—å½“æ—¶èµ›è§„å‡ºæ¥çš„æ—¶å€™ï¼Œäººå‘˜ç¨€å°‘ï¼ˆè™½ç„¶ç°åœ¨ä¹Ÿæ˜¯ï¼‰ï¼Œæˆ‘æ›¾èŒç”Ÿäº†é€€ç¼©ä¹‹æ„ï¼Œæ‰“ä¸ª3V3å¾—äº†ï¼Œä¸è¿‡åœ¨Coæ€»çš„å·å¬ä¸‹ï¼Œå¤§å®¶è¿˜æ˜¯æœ€åå†³å®šæ‹¼ä¸€æŠŠ7V7ï¼Œå¯¹äºä¸€ä¸ªç¬¬äºŒå¹´çš„é˜Ÿä¼ï¼Œ7V7çš„å‹åŠ›å¯è°“é¢‡å¤§ï¼Œè¿™ä¸€å¹´çœŸçš„æ˜¯ä¸åˆ†æ˜¼å¤œï¼Œç”¨å‘½åœ¨æ‹¼æã€‚ä¸è¿‡ç°åœ¨æƒ³æƒ³ï¼Œå¯¹è¿™ä¸ªå†³å®šè¿˜æ˜¯æœ‰ç‚¹åæ‚”çš„ï¼Œå› ä¸ºé˜Ÿé‡Œæ²¡æœ‰ç”µæ§ï¼Œæˆ‘ä¸€ä¸ªäººæ‰¿æ‹…äº†6è¾†æœºå™¨äººä»£ç çš„ç¼–å†™ï¼Œå½“æ—¶è¿˜è¢«Coæ€»éª—äº†ï¼Œä»å¤´å¼€å§‹å†™çš„ä»£ç ï¼Œå½“æ—¶çœŸçš„å‹åŠ›å±±å¤§ï¼Œä¹Ÿé—¹è¿‡å‡ æ¬¡æƒ…ç»ªï¼Œä¸è¿‡æ„Ÿè°¢Coæ€»çš„è€å¿ƒç–å¯¼å’Œé˜Ÿå‹çš„åŒ…å®¹ã€‚æœ€ååœ¨3V3ä¸­æœŸä¹‹å‰ä¹Ÿæ˜¯èµ¶åˆ¶å‡ºäº†æ­¥å…µã€å“¨å…µå’Œå·¥ç¨‹çš„ä»£ç å¹¶é¡ºåˆ©å®Œæˆäº†ä¸­æœŸçš„å½•åˆ¶ï¼Œä¸è¿‡å› ä¸ºè§†è§‰ç»„æ‘†çƒ‚ï¼Œå“¨å…µæ‰“ç®—å®Œå…¨å¤åŸå»å¹´å­¦é•¿çš„ä»£ç ï¼ˆå­¦é•¿å¤ªå¼ºäº†ï¼‰ï¼Œç„¶åè¿˜å¤åŸä¸å‡ºæ¥ï¼Œå› ä¸ºä»Šå¹´æªç®¡ä¸Šé¢å¤šäº†ä¸ªå›¾ä¼ ï¼Œå¯èƒ½åœ¨å¥½å¤šåœ°æ–¹éƒ½æœ‰å½±å“ï¼Œç„¶åæ­¥å…µä»£ç ä¹Ÿå¾ˆä¸å®Œå–„ï¼Œæœ‰å¾ˆå¤šé—®é¢˜è€Œä¸”æ²¡æœ‰åŠŸç‡æ§åˆ¶ï¼Œè¾½å®ç«™å¤§è´¥è€Œå½’ï¼Œå½“æ—¶çœŸçš„å¾ˆéš¾è¿‡ï¼Œå¥½å¤šäººè‡ªå·±å·å·æŠ¹çœ¼æ³ªï¼Œå¤ªå¤šå¿ƒè¡€äº†ã€‚å›æ¥ä¹‹åç—›æ”¹å‰éï¼Œå®Œæˆäº†ç°åœ¨çš„æ­¥å…µä»£ç V1.0ï¼Œå®Œæˆäº†ç¬¬ä¸€å¥—èƒ½ä¸Šåœºçš„å®Œæ•´çš„æ­¥å…µä»£ç ã€‚

è¿™ä¸€å¹´çœŸçš„å¤ªç´¯äº†ï¼Œå·²ç»è®°ä¸æ¸…æœ‰å¤šå°‘ä¸ªå¤œæ™šé€šå®µæ”¹ä»£ç ï¼Œè®°ä¸æ¸…çœ‹è¿‡å¤šå°‘æ—¥å‡ºï¼Œå¥½å¤šæ¬¡æƒ³è¦æ”¾å¼ƒï¼Œæ‘†çƒ‚ç®—äº†ï¼Œå°±åƒè§†è§‰ç»„ä¸€æ ·ï¼Œä¸è¿‡ä¸€ç›´éš¾ä»¥å‰²èˆï¼Œæˆ–è®¸è¿™å°±æ˜¯RMçš„é­…åŠ›ï¼Œä¸ºäº†çƒ­çˆ±ï¼Œå¥‹ä¸é¡¾èº«ã€‚æ„Ÿè°¢Coæ€»ï¼Œå¼•å¯¼æˆ‘ä¸æ–­æˆé•¿ï¼Œæ„Ÿè°¢é˜Ÿå‹ï¼Œé™ªæˆ‘æ—¥æ—¥å¤œå¤œï¼Œæ„Ÿè°¢RMï¼Œè®©æˆ‘ä»¬ç›¸é‡ã€‚

åœ¨ç«è½¦ä¸Šå†™çš„ï¼Œæ¯”è¾ƒæ‚ç¢ï¼Œä¸è¿‡ï¼ŒRMerï¼Œæ‡‚çš„éƒ½æ‡‚ğŸ˜ã€‚

æœ€åè¿˜å¾—éª‚ä¸€å¥ï¼Œä¸ºä»€ä¹ˆè§†è§‰ç»„é‚£ç§æ‘†å­éƒ½èƒ½æ˜¯ç ”å‘ä»£è¡¨ï¼Œæˆ‘å†™äº†ä¸ƒä¸ªè½¦çš„ä»£ç éƒ½ä¸æ˜¯ï¼

> PSï¼š
>
> **æœ¬å¼€æºæœ€ç»ˆè§£é‡Šæƒä¸ºæ²³åŒ—å·¥ä¸šå¤§å­¦å±±æµ·Masæˆ˜é˜Ÿæ‰€æœ‰ï¼Œä¸å¾—ç”¨äºä»»ä½•å•†ç”¨è¡Œä¸ºã€‚**
>
> æ¬¢è¿äº¤æµï¼Œå¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·è”ç³»QQï¼š**zpclyn 2297651490**ã€‚
